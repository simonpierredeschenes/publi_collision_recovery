<launch>
	<node pkg="norlab_icp_mapper_ros" type="mapper_node" name="mapper_node" output="screen">
		<remap from="acceleration_topic" to="/MTI_imu/data"/>
		<param name="sensor_frame" value="rslidar32"/>
		<param name="robot_frame" value="base_link"/>
		<param name="odom_frame" value="odom"/>
		<param name="icp_config" value="$(find publi_collision_recovery)/params/warthog_icp_config.yaml"/>
		<param name="input_filters_config" value="$(find publi_collision_recovery)/params/warthog_input_filters.yaml"/>
		<param name="map_post_filters_config" value="$(find publi_collision_recovery)/params/warthog_post_filters.yaml"/>
		<param name="map_update_condition" value="delay"/>
		<param name="map_update_delay" value="0"/>
		<param name="sensor_max_range" value="200"/>
		<param name="min_dist_new_point" value="0.03"/>
		<param name="compute_prob_dynamic" value="true"/>

		<remap from="points_in" to="rslidar32_points_deskewed"/>
		<param name="is_mapping" value="false"/>
		<param name="is_online" value="false"/>
		<param name="compute_residual" value="true"/>
		<!--<param name="mean_residual_file_name" value="/home/simon/Desktop/doctorat/publi_collision_recovery/forest/2020-10-08-13-00-25_deskewed.csv"/>-->
		<param name="initial_map_file_name" value="/hdd/publi_collision_recovery/2020-10-07_forest/quarry.vtk"/>
		<param name="initial_map_pose" value="[[-0.70427947,-0.70987619,-0.00807418,7.255284],[0.7098470,-0.704324830,0.00653072,-12.706531],[-0.010322845,-0.0011319934,0.999946,0.2840353],[0,0,0,1]]"/>
	</node>
</launch>
